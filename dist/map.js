(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{370:function(t,e,o){"use strict";o.r(e);var i=o(692),n=o(526);for(var r in n)"default"!==r&&function(t){o.d(e,t,(function(){return n[t]}))}(r);o(669);var a=o(383),s=Object(a.a)(n.default,i.a,i.b,!1,null,null,null);s.options.__file="src/vue/ld-map.vue",e.default=s.exports},526:function(t,e,o){"use strict";o.r(e);var i=o(527),n=o.n(i);for(var r in i)"default"!==r&&function(t){o.d(e,t,(function(){return i[t]}))}(r);e.default=n.a},527:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=x(o(671)),n=g(o(380)),r=o(660),a=g(o(371)),s=o(672),l=g(o(560)),u=g(o(595)),c=g(o(674)),d=g(o(673)),p=g(o(665)),h=o(666),m=x(o(594)),f=x(o(564));function g(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e.default=t,e}function x(t){return t&&t.__esModule?t:{default:t}}o(667),e.default={props:["x","y","lon","lat"],data:function(){return{projection:null,coordinates:null,mapExtent:[9928,66928,272072,329072],resolutions:[],matrixIds:[],map:null,tilesLayer:null,markerLayer:null}},computed:{},mounted:function(){this.initProjection(),this.initCoordinates()},watch:{coordinates:function(){var t=this;this.coordinates&&this.$nextTick((function(){t.initResolutions(),t.initMatrixIds(),t.initMap(),t.initTilesLayer(),t.triggerResize(),t.initMarkerLayer(),t.addMarker(),setTimeout(t.triggerResize,5e3)}))}},methods:{initProjection:function(){var t="EPSG:31370";if(!n.get(t)){i.default.defs(t,"+proj=lcc +lat_1=51.16666723333333 +lat_2=49.8333339 +lat_0=90 +lon_0=4.367486666666666 +x_0=150000.013 +y_0=5400088.438 +ellps=intl +towgs84=106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1 +units=m +no_defs"),(0,r.register)(i.default)}this.projection=n.get(t)},initCoordinates:function(){this.x&&this.y&&(this.coordinates=[parseFloat(this.x),parseFloat(this.y)]),this.lat&&this.lon&&(this.coordinates=n.transform([parseFloat(this.lon),parseFloat(this.lat)],"EPSG:4326","EPSG:31370"))},initResolutions:function(){for(var t=a.getHeight(this.mapExtent)/256,e=0;e<12;e++)this.resolutions[e]=t/Math.pow(2,e)},initMatrixIds:function(){for(var t=0;t<12;t++)this.matrixIds[t]=t.toString()},initMap:function(){this.map=new s.Map({target:this.$el,loadTilesWhileAnimating:!1,interactions:l.defaults({mouseWheelZoom:!1}),controls:[new u.ScaleLine,new u.Zoom,new u.ZoomSlider],view:new s.View({center:[140860.69299028325,190532.7165957574],extent:this.mapExtent,projection:this.projection,resolutions:this.resolutions,zoom:2})})},initTilesLayer:function(){this.tilesLayer=new c.Tile({name:"tiles",source:new f.default({url:"https://tile.informatievlaanderen.be/ws/raadpleegdiensten/wmts",layer:"grb_bsk_grijs",matrixSet:"BPL72VL",format:"image/png",projection:"EPSG:31370",tileGrid:new m.default({extent:this.mapExtent,resolutions:this.resolutions,matrixIds:this.matrixIds}),style:""})}),this.map.addLayer(this.tilesLayer)},initMarkerLayer:function(){this.markerLayer=new c.Vector({name:"marker",source:new d.Vector({})}),this.map.addLayer(this.markerLayer)},addMarker:function(){var t=this,e=new s.Feature({name:"marker",geometry:new p.Point(this.coordinates)}),o=new h.Style({image:new h.Icon({anchor:[.5,.9],size:[80,90],opacity:1,scale:.7,src:"/dist/img/marker-selected.png"})});e.setStyle(o),this.markerLayer.getSource().clear(),this.markerLayer.getSource().addFeature(e),setTimeout((function(){t.map.getView().animate({duration:750,center:t.coordinates,resolution:t.resolutions[5]})}),500)},triggerResize:function(){var t=document.createEvent("HTMLEvents");t.initEvent("resize",!0,!1),window.dispatchEvent(t)}}}},559:function(t,e,o){var i=o(670);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,o(131).default)("cbf9402e",i,!1,{})},669:function(t,e,o){"use strict";var i=o(559);o.n(i).a},670:function(t,e,o){(t.exports=o(130)(!1)).push([t.i,".ld-map{box-shadow:0 0 8px rgba(0,0,0,0.1);background-color:#fff;border:1px solid #ddd;height:410px;position:relative}.ld-map .ol-scale-line{background:rgba(255,255,255,0.4);box-shadow:0 0 2px rgba(0,0,0,0.1);border-radius:2px;bottom:8px;right:64px;left:auto}.ld-map .ol-scale-line .ol-scale-line-inner{border:1px solid #4da692;border-top:none;border-bottom:none;color:#333;background-color:rgba(255,255,255,0.8)}.ld-map .ol-control{border-radius:2px}.ld-map .ol-control button{height:40px;width:40px;line-height:.4em;background-color:#4da692}.ld-map .ol-control button:focus,.ld-map .ol-control button:hover{background-color:#42796d}.ld-map .ol-control.ol-zoom{top:auto;left:auto;bottom:8px;right:.5em;box-shadow:0 0 2px rgba(0,0,0,0.1)}.ld-map .ol-control.ol-zoomslider{top:auto;left:auto;bottom:100px;right:8px;box-shadow:0 0 2px rgba(0,0,0,0.1)}.ld-map .ol-control.ol-zoomslider button{height:10px}\n",""])},692:function(t,e,o){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return this.coordinates?e("div",{staticClass:"ld-map"},[e("div",{staticClass:"ol-map"})]):this._e()},n=[];i._withStripped=!0,o.d(e,"a",(function(){return i})),o.d(e,"b",(function(){return n}))}}]);